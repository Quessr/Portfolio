{"version":3,"file":"index.stories.14d3dcfc.js","sources":["../../src/components/pages/BlogPage/index.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nimport loadingGIF from '../../../assets/loading.gif';\nimport BlogTemplate, { BlogTemplateProps } from '../../templates/BlogTemplate';\n\nexport interface BlogPageProps {\n  loading?: boolean;\n}\n\nconst BlogPage = () => {\n  const [items, setItems] = useState<BlogTemplateProps['items']>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    setLoading(true);\n    fetch(\n      'https://api.rss2json.com/v1/api.json?rss_url=https%3A%2F%2Fquessr.tistory.com%2Frss&api_key=4yj4wfdfz8oekzauivyrznnwjjrdtp032aowo1jm',\n    )\n      .then((res) => res.json())\n      .then((res) => res.items)\n      .then((datas: BlogTemplateProps['items']) => {\n        const parser = new DOMParser();\n\n        const parsedDatas = datas.map((data) => {\n          const parsedDescription =\n            parser\n              .parseFromString(data.description, 'text/html')\n              .querySelector('body')?.textContent ?? '';\n\n          const splitedDate = data.pubDate.split(' ')[0];\n          return {\n            ...data,\n            pubDate: splitedDate,\n            description: parsedDescription,\n          };\n        });\n        setItems(parsedDatas);\n        setLoading(false);\n      });\n  }, []);\n  return (\n    <>\n      <BlogTemplate items={items} loading={loading} />\n      {loading && <img src={loadingGIF} alt=\"loading\" />}\n    </>\n  );\n};\n\nexport default BlogPage;\n"],"names":["BlogPage","__name","items","setItems","useState","loading","setLoading","useEffect","fetch","then","res","json","datas","parser","DOMParser","parsedDatas","map","data","parsedDescription","parseFromString","description","querySelector","textContent","splitedDate","pubDate","split","_Fragment","_jsx","BlogTemplate","loadingGIF","BlogPage$1"],"mappings":"2iBASA,MAAMA,EAAWC,EAAA,IAAM,CACrB,KAAM,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,QAAAA,SAAqC,CAAE,CAAA,EAC3D,CAACC,EAASC,CAAU,EAAIF,mBAAS,EAAI,EAE3CG,OAAAA,EAAAA,QAAAA,UAAU,IAAM,CACdD,EAAW,EAAI,EACfE,MACE,sIAAsI,EAErIC,KAAMC,GAAQA,EAAIC,KAAM,CAAA,EACxBF,QAAcC,EAAIR,KAAK,EACvBO,KAAMG,GAAsC,CACrCC,MAAAA,EAAS,IAAIC,UAEbC,EAAcH,EAAMI,IAAcC,GAAA,SAChCC,MAAAA,GACJL,GAAAA,EAAAA,EACGM,gBAAgBF,EAAKG,YAAa,WAAW,EAC7CC,cAAc,MAAM,IAFvBR,YAAAA,EAE0BS,cAF1BT,KAAAA,EAEyC,GAErCU,EAAcN,EAAKO,QAAQC,MAAM,GAAG,EAAE,GACrC,MAAA,CACL,GAAGR,EACHO,QAASD,EACTH,YAAaF,CAAAA,CACf,CACD,EACDf,EAASY,CAAW,EACpBT,EAAW,EAAK,CAAA,CACjB,CACL,EAAG,CAAE,CAAA,IAEHoB,EAAA,CAAA,SAAA,CACEC,EAACC,EAAY,CAAC,MAAA1B,EAAc,QAAAG,CAAA,CAAoB,EAC/CA,GAAWsB,EAAA,MAAA,CAAK,IAAKE,EAAY,IAAI,SAAA,CAAY,CAAA,CAAA,CACjD,CAEP,EArCiB,YAuCjBC,EAAe9B;;;;;;;;;;;;;"}